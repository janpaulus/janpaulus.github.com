<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>youBot Driver: PidController Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='../../open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='../../closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='../../closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>youbot</b>::<a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html">PidController</a>
  </div>
</div>
<div class="contents">
<h1>PidController Class Reference</h1><!-- doxytag: class="youbot::PidController" -->
<p>A basic pid class.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../db/db7/_pid_controller_8hpp_source.html">PidController.hpp</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#a1f4cd7891eb88c1be5166cb5cc52302e">PidController</a> (double P=0.0, double I=0.0, double D=0.0, double I1=0.0, double I2=-0.0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor, zeros out Pid values when created and initialize Pid-gains and integral term limits:[iMax:iMin]-[I1:I2].  <a href="#a1f4cd7891eb88c1be5166cb5cc52302e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#ac7ed806d42487a9b3c3d76ce9af7753c">~PidController</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor of Pid class.  <a href="#ac7ed806d42487a9b3c3d76ce9af7753c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#af02615e7bfbad23d89f98936edc8056c">updatePid</a> (double p_error, boost::posix_time::time_duration dt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the Pid loop with nonuniform time step size.  <a href="#af02615e7bfbad23d89f98936edc8056c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#a5ca3f8e8af6da4388373a03ff9a2d506">initPid</a> (double P, double I, double D, double I1, double I2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize PID-gains and integral term limits:[iMax:iMin]-[I1:I2].  <a href="#a5ca3f8e8af6da4388373a03ff9a2d506"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the state of this PID controller.  <a href="#ad20897c5c8bd47f5d4005989bead0e55"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#a2e50623c5a56b1fd7942577482899d88">setCurrentCmd</a> (double cmd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set current command for this PID controller.  <a href="#a2e50623c5a56b1fd7942577482899d88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#a12b06e8b539ebf2d6137e85a9983e403">getCurrentCmd</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return current command for this PID controller.  <a href="#a12b06e8b539ebf2d6137e85a9983e403"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#acbcdf74d7f85427007fc112d3cd2cb87">getCurrentPIDErrors</a> (double &amp;pe, double &amp;ie, double &amp;de)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return PID error terms for the controller.  <a href="#acbcdf74d7f85427007fc112d3cd2cb87"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#a0df65bd7a4553a4a342e43ad169fd776">setGains</a> (double P, double I, double D, double i_max, double i_min)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set PID gains for the controller.  <a href="#a0df65bd7a4553a4a342e43ad169fd776"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#a5e01fe7f19ef3821b349e967ec01327f">getGains</a> (double &amp;p, double &amp;i, double &amp;d, double &amp;i_max, double &amp;i_min)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get PID gains for the controller.  <a href="#a5e01fe7f19ef3821b349e967ec01327f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#a261488d51a60a2e4865eceec54c06f4b">updatePid</a> (double error, double error_dot, boost::posix_time::time_duration dt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the Pid loop with nonuniform time step size. This update call allows the user to pass in a precomputed derivative error.  <a href="#a261488d51a60a2e4865eceec54c06f4b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html">PidController</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#ab2269243b8a94aa712ce34b6f5e24ffb">operator=</a> (const <a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html">PidController</a> &amp;p)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A basic pid class. </p>
<p>This class implements a generic structure that can be used to create a wide range of pid controllers. It can function independently or be subclassed to provide more specific controls based on a particular control loop.</p>
<p>In particular, this class implements the standard pid equation:</p>
<p><img class="formulaInl" alt="$command = -p_{term} - i_{term} - d_{term} $" src="../../form_0.png"/></p>
<p>where: <br/>
 </p>
<ul type="none">
<li>
<img class="formulaInl" alt="$ p_{term} = p_{gain} * p_{error} $" src="../../form_1.png"/> </li>
<li>
<img class="formulaInl" alt="$ i_{term} = i_{gain} * i_{error} $" src="../../form_2.png"/> </li>
<li>
<img class="formulaInl" alt="$ d_{term} = d_{gain} * d_{error} $" src="../../form_3.png"/> </li>
<li>
<img class="formulaInl" alt="$ i_{error} = i_{error} + p_{error} * dt $" src="../../form_4.png"/> </li>
<li>
<img class="formulaInl" alt="$ d_{error} = (p_{error} - p_{error last}) / dt $" src="../../form_5.png"/> </li>
</ul>
<p>given:<br/>
 </p>
<ul type="none">
<li>
<img class="formulaInl" alt="$ p_{error} = p_{state} - p_{target} $" src="../../form_6.png"/>. </li>
</ul>
<h2><a class="anchor" id="Usage">
Usage</a></h2>
<p>To use the Pid class, you should first call some version of init() (in non-realtime) and then call <a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#af02615e7bfbad23d89f98936edc8056c" title="Update the Pid loop with nonuniform time step size.">updatePid()</a> at every update step. For example:</p>
<div class="fragment"><pre class="fragment">
control_toolbox::Pid pid;
pid.initPid(6.0, 1.0, 2.0, 0.3, -0.3);
double position_desi_ = 0.5;
...
ros::Time last_time = ros::Time::now();
while (true) {
  ros::Time time = ros::Time::now();
  double effort = pid.updatePid(currentPosition() - position_desi_, time - last_time);
  last_time = time;
}
</pre></div> 
<p>Definition at line <a class="el" href="../../db/db7/_pid_controller_8hpp_source.html#l00096">96</a> of file <a class="el" href="../../db/db7/_pid_controller_8hpp_source.html">PidController.hpp</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1f4cd7891eb88c1be5166cb5cc52302e"></a><!-- doxytag: member="youbot::PidController::PidController" ref="a1f4cd7891eb88c1be5166cb5cc52302e" args="(double P=0.0, double I=0.0, double D=0.0, double I1=0.0, double I2=&#45;0.0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html">PidController</a> </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>P</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>I</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>D</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>I1</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>I2</em> = <code>-0.0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor, zeros out Pid values when created and initialize Pid-gains and integral term limits:[iMax:iMin]-[I1:I2]. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>P</em>&nbsp;</td><td>The proportional gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>I</em>&nbsp;</td><td>The integral gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>D</em>&nbsp;</td><td>The derivative gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>I1</em>&nbsp;</td><td>The integral upper limit. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>I2</em>&nbsp;</td><td>The integral lower limit. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00041">41</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac7ed806d42487a9b3c3d76ce9af7753c"></a><!-- doxytag: member="youbot::PidController::~PidController" ref="ac7ed806d42487a9b3c3d76ce9af7753c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html">PidController</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor of Pid class. </p>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00052">52</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a12b06e8b539ebf2d6137e85a9983e403"></a><!-- doxytag: member="youbot::PidController::getCurrentCmd" ref="a12b06e8b539ebf2d6137e85a9983e403" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getCurrentCmd </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return current command for this PID controller. </p>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00194">194</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acbcdf74d7f85427007fc112d3cd2cb87"></a><!-- doxytag: member="youbot::PidController::getCurrentPIDErrors" ref="acbcdf74d7f85427007fc112d3cd2cb87" args="(double &amp;pe, double &amp;ie, double &amp;de)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getCurrentPIDErrors </td>
          <td>(</td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>ie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>de</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return PID error terms for the controller. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pe</em>&nbsp;</td><td>The proportional error. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ie</em>&nbsp;</td><td>The integral error. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>de</em>&nbsp;</td><td>The derivative error. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00199">199</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5e01fe7f19ef3821b349e967ec01327f"></a><!-- doxytag: member="youbot::PidController::getGains" ref="a5e01fe7f19ef3821b349e967ec01327f" args="(double &amp;p, double &amp;i, double &amp;d, double &amp;i_max, double &amp;i_min)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getGains </td>
          <td>(</td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>i_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>i_min</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get PID gains for the controller. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>The proportional gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>The integral gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td>The derivative gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i_max</em>&nbsp;</td><td>The max integral windup. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i_mim</em>&nbsp;</td><td>The min integral windup. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00076">76</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/d8d/classyoubot_1_1_pid_controller_a5e01fe7f19ef3821b349e967ec01327f_icgraph.png" border="0" usemap="#d9/d8d/classyoubot_1_1_pid_controller_a5e01fe7f19ef3821b349e967ec01327f_icgraph_map" alt=""></div>
<map name="d9/d8d/classyoubot_1_1_pid_controller_a5e01fe7f19ef3821b349e967ec01327f_icgraph_map" id="d9/d8d/classyoubot_1_1_pid_controller_a5e01fe7f19ef3821b349e967ec01327f_icgraph">
<area shape="rect" href="../../d6/d90/classyoubot_1_1_joint_trajectory_controller.html#a6cba8030efd25c8f94b244a1a7abbc65" title="youbot::JointTrajectoryController::getConfigurationParameter" alt="" coords="129,5,497,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5ca3f8e8af6da4388373a03ff9a2d506"></a><!-- doxytag: member="youbot::PidController::initPid" ref="a5ca3f8e8af6da4388373a03ff9a2d506" args="(double P, double I, double D, double I1, double I2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initPid </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>I1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>I2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize PID-gains and integral term limits:[iMax:iMin]-[I1:I2]. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>P</em>&nbsp;</td><td>The proportional gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>I</em>&nbsp;</td><td>The integral gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>D</em>&nbsp;</td><td>The derivative gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>I1</em>&nbsp;</td><td>The integral upper limit. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>I2</em>&nbsp;</td><td>The integral lower limit. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00056">56</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/d8d/classyoubot_1_1_pid_controller_a5ca3f8e8af6da4388373a03ff9a2d506_cgraph.png" border="0" usemap="#d9/d8d/classyoubot_1_1_pid_controller_a5ca3f8e8af6da4388373a03ff9a2d506_cgraph_map" alt=""></div>
<map name="d9/d8d/classyoubot_1_1_pid_controller_a5ca3f8e8af6da4388373a03ff9a2d506_cgraph_map" id="d9/d8d/classyoubot_1_1_pid_controller_a5ca3f8e8af6da4388373a03ff9a2d506_cgraph">
<area shape="rect" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#ad20897c5c8bd47f5d4005989bead0e55" title="Reset the state of this PID controller." alt="" coords="112,5,163,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/d8d/classyoubot_1_1_pid_controller_a5ca3f8e8af6da4388373a03ff9a2d506_icgraph.png" border="0" usemap="#d9/d8d/classyoubot_1_1_pid_controller_a5ca3f8e8af6da4388373a03ff9a2d506_icgraph_map" alt=""></div>
<map name="d9/d8d/classyoubot_1_1_pid_controller_a5ca3f8e8af6da4388373a03ff9a2d506_icgraph_map" id="d9/d8d/classyoubot_1_1_pid_controller_a5ca3f8e8af6da4388373a03ff9a2d506_icgraph">
<area shape="rect" href="../../d6/d90/classyoubot_1_1_joint_trajectory_controller.html#ad5f651e516b0d9b2a18b231ea3820295" title="youbot::JointTrajectoryController::JointTrajectoryController" alt="" coords="113,5,468,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab2269243b8a94aa712ce34b6f5e24ffb"></a><!-- doxytag: member="youbot::PidController::operator=" ref="ab2269243b8a94aa712ce34b6f5e24ffb" args="(const PidController &amp;p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html">PidController</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d8d/classyoubot_1_1_pid_controller.html">PidController</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../db/db7/_pid_controller_8hpp_source.html#l00189">189</a> of file <a class="el" href="../../db/db7/_pid_controller_8hpp_source.html">PidController.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad20897c5c8bd47f5d4005989bead0e55"></a><!-- doxytag: member="youbot::PidController::reset" ref="ad20897c5c8bd47f5d4005989bead0e55" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the state of this PID controller. </p>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00067">67</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/d8d/classyoubot_1_1_pid_controller_ad20897c5c8bd47f5d4005989bead0e55_icgraph.png" border="0" usemap="#d9/d8d/classyoubot_1_1_pid_controller_ad20897c5c8bd47f5d4005989bead0e55_icgraph_map" alt=""></div>
<map name="d9/d8d/classyoubot_1_1_pid_controller_ad20897c5c8bd47f5d4005989bead0e55_icgraph_map" id="d9/d8d/classyoubot_1_1_pid_controller_ad20897c5c8bd47f5d4005989bead0e55_icgraph">
<area shape="rect" href="../../d9/d8d/classyoubot_1_1_pid_controller.html#a5ca3f8e8af6da4388373a03ff9a2d506" title="Initialize PID&#45;gains and integral term limits:[iMax:iMin]&#45;[I1:I2]." alt="" coords="105,5,161,35"/><area shape="rect" href="../../d6/d90/classyoubot_1_1_joint_trajectory_controller.html#ad5f651e516b0d9b2a18b231ea3820295" title="youbot::JointTrajectoryController::JointTrajectoryController" alt="" coords="212,5,567,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2e50623c5a56b1fd7942577482899d88"></a><!-- doxytag: member="youbot::PidController::setCurrentCmd" ref="a2e50623c5a56b1fd7942577482899d88" args="(double cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCurrentCmd </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set current command for this PID controller. </p>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00189">189</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0df65bd7a4553a4a342e43ad169fd776"></a><!-- doxytag: member="youbot::PidController::setGains" ref="a0df65bd7a4553a4a342e43ad169fd776" args="(double P, double I, double D, double i_max, double i_min)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setGains </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>i_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>i_min</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set PID gains for the controller. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>P</em>&nbsp;</td><td>The proportional gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>I</em>&nbsp;</td><td>The integral gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>D</em>&nbsp;</td><td>The derivative gain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i_max</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i_min</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00085">85</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/d8d/classyoubot_1_1_pid_controller_a0df65bd7a4553a4a342e43ad169fd776_icgraph.png" border="0" usemap="#d9/d8d/classyoubot_1_1_pid_controller_a0df65bd7a4553a4a342e43ad169fd776_icgraph_map" alt=""></div>
<map name="d9/d8d/classyoubot_1_1_pid_controller_a0df65bd7a4553a4a342e43ad169fd776_icgraph_map" id="d9/d8d/classyoubot_1_1_pid_controller_a0df65bd7a4553a4a342e43ad169fd776_icgraph">
<area shape="rect" href="../../d6/d90/classyoubot_1_1_joint_trajectory_controller.html#a7610ab985339b6f47ba24b1f560ac558" title="youbot::JointTrajectoryController::setConfigurationParameter" alt="" coords="129,5,497,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a261488d51a60a2e4865eceec54c06f4b"></a><!-- doxytag: member="youbot::PidController::updatePid" ref="a261488d51a60a2e4865eceec54c06f4b" args="(double error, double error_dot, boost::posix_time::time_duration dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double updatePid </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>error_dot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::time_duration&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the Pid loop with nonuniform time step size. This update call allows the user to pass in a precomputed derivative error. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>Error since last call (p_state-p_target) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_dot</em>&nbsp;</td><td>d(Error)/dt since last call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dt</em>&nbsp;</td><td>Change in time since last call </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00144">144</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af02615e7bfbad23d89f98936edc8056c"></a><!-- doxytag: member="youbot::PidController::updatePid" ref="af02615e7bfbad23d89f98936edc8056c" args="(double p_error, boost::posix_time::time_duration dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double updatePid </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>p_error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::time_duration&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the Pid loop with nonuniform time step size. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_error</em>&nbsp;</td><td>Error since last call (p_state-p_target) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dt</em>&nbsp;</td><td>Change in time since last call </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html#l00095">95</a> of file <a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/d8d/classyoubot_1_1_pid_controller_af02615e7bfbad23d89f98936edc8056c_icgraph.png" border="0" usemap="#d9/d8d/classyoubot_1_1_pid_controller_af02615e7bfbad23d89f98936edc8056c_icgraph_map" alt=""></div>
<map name="d9/d8d/classyoubot_1_1_pid_controller_af02615e7bfbad23d89f98936edc8056c_icgraph_map" id="d9/d8d/classyoubot_1_1_pid_controller_af02615e7bfbad23d89f98936edc8056c_icgraph">
<area shape="rect" href="../../d6/d90/classyoubot_1_1_joint_trajectory_controller.html#a204d215bf4585906fa71a91cc6693061" title="youbot::JointTrajectoryController::updateTrajectoryController" alt="" coords="133,5,501,35"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../db/db7/_pid_controller_8hpp_source.html">PidController.hpp</a></li>
<li><a class="el" href="../../d9/dfe/_pid_controller_8cpp_source.html">PidController.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
